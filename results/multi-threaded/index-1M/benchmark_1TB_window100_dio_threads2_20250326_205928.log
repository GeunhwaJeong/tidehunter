Benchmark started at Wed Mar 26 08:59:28 PM UTC 2025
Running benchmark with direct I/O: on, threads: 2...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 100 --num-threads 2 --header-file data/bench-header-1TB-1M.dat --uniform-file data/bench-uniform-1TB-1M.dat --direct-io`
Running multithreaded benchmark with 2 threads
Run 1/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 174.17s
  Total lookups: 2000000
  End-to-end throughput: 11482.75 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5741.38 lookups/sec
    Latency per lookup:
      Mean: 174174.11 ns
      Std Dev: 545.27 ns
      Min: 171191.59 ns
      Max: 175857.90 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5746.29 lookups/sec
    Latency per lookup:
      Mean: 174025.20 ns
      Std Dev: 526.10 ns
      Min: 172588.32 ns
      Max: 175806.16 ns
  Overall Latency Statistics:
    Mean: 174099.65 ns
    Std Dev: 540.92 ns
    Min: 171191.59 ns
    Max: 175857.90 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 330.05s
  Total lookups: 2000000
  End-to-end throughput: 6059.61 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3032.30 lookups/sec
    Latency per lookup:
      Mean: 329783.20 ns
      Std Dev: 6942.20 ns
      Min: 304115.11 ns
      Max: 353698.83 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3029.81 lookups/sec
    Latency per lookup:
      Mean: 330053.76 ns
      Std Dev: 6818.82 ns
      Min: 301966.52 ns
      Max: 349159.05 ns
  Overall Latency Statistics:
    Mean: 329918.48 ns
    Std Dev: 6882.12 ns
    Min: 301966.52 ns
    Max: 353698.83 ns
Run 2/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 174.13s
  Total lookups: 2000000
  End-to-end throughput: 11485.89 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5745.12 lookups/sec
    Latency per lookup:
      Mean: 174060.64 ns
      Std Dev: 513.78 ns
      Min: 172742.43 ns
      Max: 175621.32 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5742.95 lookups/sec
    Latency per lookup:
      Mean: 174126.46 ns
      Std Dev: 525.71 ns
      Min: 171890.25 ns
      Max: 175912.89 ns
  Overall Latency Statistics:
    Mean: 174093.55 ns
    Std Dev: 520.82 ns
    Min: 171890.25 ns
    Max: 175912.89 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 331.42s
  Total lookups: 2000000
  End-to-end throughput: 6034.67 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3034.26 lookups/sec
    Latency per lookup:
      Mean: 329569.12 ns
      Std Dev: 6699.64 ns
      Min: 307980.07 ns
      Max: 349240.34 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3017.34 lookups/sec
    Latency per lookup:
      Mean: 331417.91 ns
      Std Dev: 6827.57 ns
      Min: 309355.88 ns
      Max: 353663.29 ns
  Overall Latency Statistics:
    Mean: 330493.52 ns
    Std Dev: 6826.78 ns
    Min: 307980.07 ns
    Max: 353663.29 ns
Run 3/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 174.70s
  Total lookups: 2000000
  End-to-end throughput: 11448.20 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5724.11 lookups/sec
    Latency per lookup:
      Mean: 174699.63 ns
      Std Dev: 579.73 ns
      Min: 169480.61 ns
      Max: 176402.88 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5741.92 lookups/sec
    Latency per lookup:
      Mean: 174157.86 ns
      Std Dev: 502.68 ns
      Min: 172335.71 ns
      Max: 175750.39 ns
  Overall Latency Statistics:
    Mean: 174428.75 ns
    Std Dev: 606.44 ns
    Min: 169480.61 ns
    Max: 176402.88 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 330.45s
  Total lookups: 2000000
  End-to-end throughput: 6052.29 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3032.86 lookups/sec
    Latency per lookup:
      Mean: 329721.33 ns
      Std Dev: 6958.41 ns
      Min: 311194.21 ns
      Max: 352514.62 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3026.15 lookups/sec
    Latency per lookup:
      Mean: 330453.24 ns
      Std Dev: 6638.25 ns
      Min: 309051.36 ns
      Max: 353028.89 ns
  Overall Latency Statistics:
    Mean: 330087.29 ns
    Std Dev: 6810.05 ns
    Min: 309051.36 ns
    Max: 353028.89 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 272379 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1030781140 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 234424875400 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 6000000 }, shards: [Shard { sum: AtomicF64 { inner: 4717458515986219008 }, count: AtomicU64 { inner: 6000000 }, buckets: [AtomicU64 { inner: 715237 }, AtomicU64 { inner: 1254584 }, AtomicU64 { inner: 1031737 }, AtomicU64 { inner: 823432 }, AtomicU64 { inner: 639470 }, AtomicU64 { inner: 482865 }, AtomicU64 { inner: 349585 }, AtomicU64 { inner: 246472 }, AtomicU64 { inner: 168198 }, AtomicU64 { inner: 112517 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 8183 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1954472319 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 99737409760 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 09:24:43 PM UTC 2025
