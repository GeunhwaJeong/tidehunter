Benchmark started at Thu Mar 27 07:56:08 AM UTC 2025
Running benchmark with direct I/O: off, threads: 2...
    Finished `release` profile [optimized] target(s) in 0.17s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 200 --num-threads 2 --header-file data/bench-header-1TB-1M.dat --uniform-file data/bench-uniform-1TB-1M.dat`
Running multithreaded benchmark with 2 threads
Run 1/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 107.90s
  Total lookups: 2000000
  End-to-end throughput: 18535.81 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9267.93 lookups/sec
    Latency per lookup:
      Mean: 107898.96 ns
      Std Dev: 2124.91 ns
      Min: 101099.96 ns
      Max: 113960.90 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9272.40 lookups/sec
    Latency per lookup:
      Mean: 107846.91 ns
      Std Dev: 2250.51 ns
      Min: 101263.00 ns
      Max: 113660.93 ns
  Overall Latency Statistics:
    Mean: 107872.93 ns
    Std Dev: 2188.76 ns
    Min: 101099.96 ns
    Max: 113960.90 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 177.67s
  Total lookups: 2000000
  End-to-end throughput: 11256.53 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5631.36 lookups/sec
    Latency per lookup:
      Mean: 177576.87 ns
      Std Dev: 4966.80 ns
      Min: 167159.40 ns
      Max: 197121.78 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5628.27 lookups/sec
    Latency per lookup:
      Mean: 177674.45 ns
      Std Dev: 4944.39 ns
      Min: 166258.01 ns
      Max: 196659.38 ns
  Overall Latency Statistics:
    Mean: 177625.66 ns
    Std Dev: 4955.85 ns
    Min: 166258.01 ns
    Max: 197121.78 ns
Run 2/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 108.45s
  Total lookups: 2000000
  End-to-end throughput: 18441.69 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9248.68 lookups/sec
    Latency per lookup:
      Mean: 108123.54 ns
      Std Dev: 1656.13 ns
      Min: 103180.19 ns
      Max: 113279.59 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9220.87 lookups/sec
    Latency per lookup:
      Mean: 108449.67 ns
      Std Dev: 1809.04 ns
      Min: 98857.07 ns
      Max: 114130.58 ns
  Overall Latency Statistics:
    Mean: 108286.60 ns
    Std Dev: 1741.92 ns
    Min: 98857.07 ns
    Max: 114130.58 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 180.95s
  Total lookups: 2000000
  End-to-end throughput: 11052.73 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5539.41 lookups/sec
    Latency per lookup:
      Mean: 180524.70 ns
      Std Dev: 3248.49 ns
      Min: 169354.75 ns
      Max: 191325.02 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5526.37 lookups/sec
    Latency per lookup:
      Mean: 180950.57 ns
      Std Dev: 3333.72 ns
      Min: 170617.18 ns
      Max: 192680.84 ns
  Overall Latency Statistics:
    Mean: 180737.63 ns
    Std Dev: 3298.26 ns
    Min: 169354.75 ns
    Max: 192680.84 ns
Run 3/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 107.95s
  Total lookups: 2000000
  End-to-end throughput: 18526.43 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9306.84 lookups/sec
    Latency per lookup:
      Mean: 107447.88 ns
      Std Dev: 1704.88 ns
      Min: 102521.50 ns
      Max: 112493.90 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9263.24 lookups/sec
    Latency per lookup:
      Mean: 107953.60 ns
      Std Dev: 1798.84 ns
      Min: 101437.83 ns
      Max: 113069.54 ns
  Overall Latency Statistics:
    Mean: 107700.74 ns
    Std Dev: 1770.64 ns
    Min: 101437.83 ns
    Max: 113069.54 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 180.77s
  Total lookups: 2000000
  End-to-end throughput: 11063.72 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5554.79 lookups/sec
    Latency per lookup:
      Mean: 180024.90 ns
      Std Dev: 3407.82 ns
      Min: 170708.43 ns
      Max: 190966.46 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5531.87 lookups/sec
    Latency per lookup:
      Mean: 180770.71 ns
      Std Dev: 3489.44 ns
      Min: 168794.62 ns
      Max: 192670.05 ns
  Overall Latency Statistics:
    Mean: 180397.80 ns
    Std Dev: 3468.97 ns
    Min: 168794.62 ns
    Max: 192670.05 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 3308 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 638400776 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 234425565600 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 6000000 }, shards: [Shard { sum: AtomicF64 { inner: 4714491186700615680 }, count: AtomicU64 { inner: 6000000 }, buckets: [AtomicU64 { inner: 1379444 }, AtomicU64 { inner: 2070550 }, AtomicU64 { inner: 1284147 }, AtomicU64 { inner: 704374 }, AtomicU64 { inner: 339203 }, AtomicU64 { inner: 145936 }, AtomicU64 { inner: 52543 }, AtomicU64 { inner: 17156 }, AtomicU64 { inner: 5114 }, AtomicU64 { inner: 1282 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 3797 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1062860705 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 122627894760 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Thu Mar 27 08:10:32 AM UTC 2025
