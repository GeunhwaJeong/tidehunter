Benchmark started at Tue Mar 25 04:23:03 PM UTC 2025
Running benchmark with direct I/O: on, threads: 2...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 100 --num-threads 2 --header-file data/bench-header-1TB-10k.dat --uniform-file data/bench-uniform-1TB-10k.dat --direct-io`
Running multithreaded benchmark with 2 threads
Run 1/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 158.80s
  Total lookups: 2000000
  End-to-end throughput: 12594.54 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6301.61 lookups/sec
    Latency per lookup:
      Mean: 158689.65 ns
      Std Dev: 434.76 ns
      Min: 157272.98 ns
      Max: 159903.54 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6297.28 lookups/sec
    Latency per lookup:
      Mean: 158798.63 ns
      Std Dev: 442.90 ns
      Min: 157535.72 ns
      Max: 160276.31 ns
  Overall Latency Statistics:
    Mean: 158744.14 ns
    Std Dev: 442.22 ns
    Min: 157272.98 ns
    Max: 160276.31 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 99.77s
  Total lookups: 2000000
  End-to-end throughput: 20045.29 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10051.57 lookups/sec
    Latency per lookup:
      Mean: 99486.92 ns
      Std Dev: 1096.89 ns
      Min: 96292.72 ns
      Max: 102955.01 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10022.67 lookups/sec
    Latency per lookup:
      Mean: 99773.86 ns
      Std Dev: 1097.41 ns
      Min: 95691.76 ns
      Max: 102819.50 ns
  Overall Latency Statistics:
    Mean: 99630.39 ns
    Std Dev: 1106.49 ns
    Min: 95691.76 ns
    Max: 102955.01 ns
Run 2/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 158.82s
  Total lookups: 2000000
  End-to-end throughput: 12593.19 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6300.19 lookups/sec
    Latency per lookup:
      Mean: 158725.35 ns
      Std Dev: 446.37 ns
      Min: 157201.60 ns
      Max: 160355.45 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6296.61 lookups/sec
    Latency per lookup:
      Mean: 158815.69 ns
      Std Dev: 437.86 ns
      Min: 156838.93 ns
      Max: 160220.00 ns
  Overall Latency Statistics:
    Mean: 158770.52 ns
    Std Dev: 444.44 ns
    Min: 156838.93 ns
    Max: 160355.45 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 99.85s
  Total lookups: 2000000
  End-to-end throughput: 20029.58 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10055.16 lookups/sec
    Latency per lookup:
      Mean: 99451.42 ns
      Std Dev: 1093.43 ns
      Min: 96519.38 ns
      Max: 103151.78 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10014.81 lookups/sec
    Latency per lookup:
      Mean: 99852.09 ns
      Std Dev: 1064.36 ns
      Min: 96177.36 ns
      Max: 103507.27 ns
  Overall Latency Statistics:
    Mean: 99651.76 ns
    Std Dev: 1097.43 ns
    Min: 96177.36 ns
    Max: 103507.27 ns
Run 3/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 158.65s
  Total lookups: 2000000
  End-to-end throughput: 12606.26 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6303.14 lookups/sec
    Latency per lookup:
      Mean: 158651.09 ns
      Std Dev: 438.41 ns
      Min: 157241.78 ns
      Max: 159954.68 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6303.30 lookups/sec
    Latency per lookup:
      Mean: 158647.11 ns
      Std Dev: 422.60 ns
      Min: 157570.91 ns
      Max: 160039.99 ns
  Overall Latency Statistics:
    Mean: 158649.10 ns
    Std Dev: 430.58 ns
    Min: 157241.78 ns
    Max: 160039.99 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 99.39s
  Total lookups: 2000000
  End-to-end throughput: 20123.19 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10061.62 lookups/sec
    Latency per lookup:
      Mean: 99387.62 ns
      Std Dev: 1087.13 ns
      Min: 95962.44 ns
      Max: 102701.85 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10081.34 lookups/sec
    Latency per lookup:
      Mean: 99193.14 ns
      Std Dev: 1053.24 ns
      Min: 95828.67 ns
      Max: 102567.58 ns
  Overall Latency Statistics:
    Mean: 99290.38 ns
    Std Dev: 1074.73 ns
    Min: 95828.67 ns
    Max: 102701.85 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 1514 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 940319779 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 2391518920 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 6000000 }, shards: [Shard { sum: AtomicF64 { inner: 4709581003994169344 }, count: AtomicU64 { inner: 6000000 }, buckets: [AtomicU64 { inner: 4720828 }, AtomicU64 { inner: 1272616 }, AtomicU64 { inner: 6554 }, AtomicU64 { inner: 2 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 5583 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 584875679 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 29082633080 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Tue Mar 25 04:35:59 PM UTC 2025
