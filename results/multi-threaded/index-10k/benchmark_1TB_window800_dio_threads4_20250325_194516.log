Benchmark started at Tue Mar 25 07:45:16 PM UTC 2025
Running benchmark with direct I/O: on, threads: 4...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 800 --num-threads 4 --header-file data/bench-header-1TB-10k.dat --uniform-file data/bench-uniform-1TB-10k.dat --direct-io`
Running multithreaded benchmark with 4 threads
Run 1/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.23s
  Total lookups: 4000000
  End-to-end throughput: 25120.21 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6287.62 lookups/sec
    Latency per lookup:
      Mean: 159042.69 ns
      Std Dev: 455.18 ns
      Min: 157646.86 ns
      Max: 160871.49 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6282.30 lookups/sec
    Latency per lookup:
      Mean: 159177.36 ns
      Std Dev: 447.40 ns
      Min: 157688.79 ns
      Max: 160583.39 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6287.85 lookups/sec
    Latency per lookup:
      Mean: 159036.90 ns
      Std Dev: 435.75 ns
      Min: 157680.78 ns
      Max: 160437.71 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6280.06 lookups/sec
    Latency per lookup:
      Mean: 159234.02 ns
      Std Dev: 465.85 ns
      Min: 157325.20 ns
      Max: 160871.03 ns
  Overall Latency Statistics:
    Mean: 159122.74 ns
    Std Dev: 459.18 ns
    Min: 157325.20 ns
    Max: 160871.49 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 96.81s
  Total lookups: 4000000
  End-to-end throughput: 41317.14 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10347.32 lookups/sec
    Latency per lookup:
      Mean: 96643.40 ns
      Std Dev: 509.93 ns
      Min: 95131.37 ns
      Max: 98335.96 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10358.42 lookups/sec
    Latency per lookup:
      Mean: 96539.86 ns
      Std Dev: 516.81 ns
      Min: 95077.77 ns
      Max: 98128.32 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10329.31 lookups/sec
    Latency per lookup:
      Mean: 96811.91 ns
      Std Dev: 584.44 ns
      Min: 89506.61 ns
      Max: 98703.96 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10340.25 lookups/sec
    Latency per lookup:
      Mean: 96709.42 ns
      Std Dev: 515.26 ns
      Min: 93351.06 ns
      Max: 98415.02 ns
  Overall Latency Statistics:
    Mean: 96676.15 ns
    Std Dev: 541.61 ns
    Min: 89506.61 ns
    Max: 98703.96 ns
Run 2/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.57s
  Total lookups: 4000000
  End-to-end throughput: 25068.08 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6283.06 lookups/sec
    Latency per lookup:
      Mean: 159158.04 ns
      Std Dev: 441.01 ns
      Min: 157606.82 ns
      Max: 160490.95 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6267.03 lookups/sec
    Latency per lookup:
      Mean: 159565.26 ns
      Std Dev: 489.14 ns
      Min: 155443.63 ns
      Max: 160881.70 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6278.85 lookups/sec
    Latency per lookup:
      Mean: 159264.85 ns
      Std Dev: 468.88 ns
      Min: 157406.45 ns
      Max: 160965.12 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6282.67 lookups/sec
    Latency per lookup:
      Mean: 159168.04 ns
      Std Dev: 436.80 ns
      Min: 157816.05 ns
      Max: 160504.18 ns
  Overall Latency Statistics:
    Mean: 159289.05 ns
    Std Dev: 488.13 ns
    Min: 155443.63 ns
    Max: 160965.12 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 96.73s
  Total lookups: 4000000
  End-to-end throughput: 41353.95 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10346.93 lookups/sec
    Latency per lookup:
      Mean: 96647.01 ns
      Std Dev: 532.11 ns
      Min: 94113.51 ns
      Max: 98435.03 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10366.02 lookups/sec
    Latency per lookup:
      Mean: 96469.05 ns
      Std Dev: 509.39 ns
      Min: 94947.41 ns
      Max: 97963.34 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10338.51 lookups/sec
    Latency per lookup:
      Mean: 96725.72 ns
      Std Dev: 542.64 ns
      Min: 92086.50 ns
      Max: 98411.15 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10341.49 lookups/sec
    Latency per lookup:
      Mean: 96697.82 ns
      Std Dev: 541.28 ns
      Min: 94087.71 ns
      Max: 98402.14 ns
  Overall Latency Statistics:
    Mean: 96634.90 ns
    Std Dev: 540.82 ns
    Min: 92086.50 ns
    Max: 98435.03 ns
Run 3/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.18s
  Total lookups: 4000000
  End-to-end throughput: 25128.99 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6314.63 lookups/sec
    Latency per lookup:
      Mean: 158362.39 ns
      Std Dev: 433.91 ns
      Min: 156895.82 ns
      Max: 159723.74 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6282.26 lookups/sec
    Latency per lookup:
      Mean: 159178.49 ns
      Std Dev: 465.00 ns
      Min: 156260.96 ns
      Max: 161172.97 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6289.87 lookups/sec
    Latency per lookup:
      Mean: 158985.76 ns
      Std Dev: 477.81 ns
      Min: 157414.36 ns
      Max: 162020.67 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6314.88 lookups/sec
    Latency per lookup:
      Mean: 158356.21 ns
      Std Dev: 446.25 ns
      Min: 157097.32 ns
      Max: 159633.53 ns
  Overall Latency Statistics:
    Mean: 158720.71 ns
    Std Dev: 585.88 ns
    Min: 156260.96 ns
    Max: 162020.67 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 96.93s
  Total lookups: 4000000
  End-to-end throughput: 41265.57 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10346.75 lookups/sec
    Latency per lookup:
      Mean: 96648.73 ns
      Std Dev: 512.67 ns
      Min: 95239.30 ns
      Max: 98425.92 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10347.96 lookups/sec
    Latency per lookup:
      Mean: 96637.38 ns
      Std Dev: 520.14 ns
      Min: 94830.68 ns
      Max: 98213.89 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10316.43 lookups/sec
    Latency per lookup:
      Mean: 96932.80 ns
      Std Dev: 615.06 ns
      Min: 90078.65 ns
      Max: 98660.84 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10337.36 lookups/sec
    Latency per lookup:
      Mean: 96736.52 ns
      Std Dev: 552.60 ns
      Min: 93286.68 ns
      Max: 98500.82 ns
  Overall Latency Statistics:
    Mean: 96738.85 ns
    Std Dev: 564.15 ns
    Min: 90078.65 ns
    Max: 98660.84 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 1705 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1884709165 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 4782971360 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 12000000 }, shards: [Shard { sum: AtomicF64 { inner: 4712704061546168320 }, count: AtomicU64 { inner: 12000000 }, buckets: [AtomicU64 { inner: 12000000 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 47967 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1136715949 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 376312678040 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Tue Mar 25 07:58:04 PM UTC 2025
