Benchmark started at Wed Mar 26 04:21:25 AM UTC 2025
Running benchmark with direct I/O: off, threads: 8...
    Finished `release` profile [optimized] target(s) in 0.17s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 3200 --num-threads 8 --header-file data/bench-header-1TB-10k.dat --uniform-file data/bench-uniform-1TB-10k.dat`
Running multithreaded benchmark with 8 threads
Run 1/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 129.99s
  Total lookups: 8000000
  End-to-end throughput: 61543.64 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7692.98 lookups/sec
    Latency per lookup:
      Mean: 129988.67 ns
      Std Dev: 17375.00 ns
      Min: 99844.93 ns
      Max: 168297.40 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7799.23 lookups/sec
    Latency per lookup:
      Mean: 128217.71 ns
      Std Dev: 17028.47 ns
      Min: 102338.79 ns
      Max: 168055.92 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7775.11 lookups/sec
    Latency per lookup:
      Mean: 128615.55 ns
      Std Dev: 17275.47 ns
      Min: 99771.45 ns
      Max: 166744.95 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7784.87 lookups/sec
    Latency per lookup:
      Mean: 128454.38 ns
      Std Dev: 17337.43 ns
      Min: 100468.01 ns
      Max: 168733.98 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 7775.42 lookups/sec
    Latency per lookup:
      Mean: 128610.50 ns
      Std Dev: 17179.08 ns
      Min: 103154.24 ns
      Max: 168318.21 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 7770.46 lookups/sec
    Latency per lookup:
      Mean: 128692.46 ns
      Std Dev: 17169.20 ns
      Min: 102926.66 ns
      Max: 168275.99 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 7792.97 lookups/sec
    Latency per lookup:
      Mean: 128320.74 ns
      Std Dev: 17465.60 ns
      Min: 101203.87 ns
      Max: 168708.34 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 7776.63 lookups/sec
    Latency per lookup:
      Mean: 128590.33 ns
      Std Dev: 17323.07 ns
      Min: 102710.07 ns
      Max: 167159.31 ns
  Overall Latency Statistics:
    Mean: 128686.29 ns
    Std Dev: 17277.33 ns
    Min: 99771.45 ns
    Max: 168733.98 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 260.56s
  Total lookups: 8000000
  End-to-end throughput: 30703.36 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3838.99 lookups/sec
    Latency per lookup:
      Mean: 260485.52 ns
      Std Dev: 23718.48 ns
      Min: 149127.81 ns
      Max: 339759.04 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3842.48 lookups/sec
    Latency per lookup:
      Mean: 260248.82 ns
      Std Dev: 23465.36 ns
      Min: 169186.48 ns
      Max: 358921.16 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 3837.93 lookups/sec
    Latency per lookup:
      Mean: 260557.41 ns
      Std Dev: 25085.29 ns
      Min: 147227.35 ns
      Max: 347130.84 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 3847.75 lookups/sec
    Latency per lookup:
      Mean: 259891.98 ns
      Std Dev: 22923.95 ns
      Min: 199241.33 ns
      Max: 356597.94 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 3861.33 lookups/sec
    Latency per lookup:
      Mean: 258978.35 ns
      Std Dev: 22504.21 ns
      Min: 202273.81 ns
      Max: 319761.95 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 3841.78 lookups/sec
    Latency per lookup:
      Mean: 260296.02 ns
      Std Dev: 22771.35 ns
      Min: 161799.89 ns
      Max: 347807.20 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 3853.39 lookups/sec
    Latency per lookup:
      Mean: 259511.46 ns
      Std Dev: 23218.00 ns
      Min: 200172.71 ns
      Max: 337943.00 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 3844.55 lookups/sec
    Latency per lookup:
      Mean: 260108.66 ns
      Std Dev: 23345.24 ns
      Min: 193206.58 ns
      Max: 328374.12 ns
  Overall Latency Statistics:
    Mean: 260009.78 ns
    Std Dev: 23396.10 ns
    Min: 147227.35 ns
    Max: 358921.16 ns
Run 2/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 129.22s
  Total lookups: 8000000
  End-to-end throughput: 61907.96 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7738.78 lookups/sec
    Latency per lookup:
      Mean: 129219.26 ns
      Std Dev: 18360.82 ns
      Min: 101146.09 ns
      Max: 265258.44 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7738.57 lookups/sec
    Latency per lookup:
      Mean: 129222.80 ns
      Std Dev: 18518.52 ns
      Min: 102339.58 ns
      Max: 263489.38 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7747.31 lookups/sec
    Latency per lookup:
      Mean: 129076.98 ns
      Std Dev: 18291.40 ns
      Min: 100688.57 ns
      Max: 259484.40 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7790.71 lookups/sec
    Latency per lookup:
      Mean: 128358.05 ns
      Std Dev: 18223.33 ns
      Min: 102106.97 ns
      Max: 262840.01 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 7798.97 lookups/sec
    Latency per lookup:
      Mean: 128222.13 ns
      Std Dev: 18219.05 ns
      Min: 102785.08 ns
      Max: 262542.29 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 7772.98 lookups/sec
    Latency per lookup:
      Mean: 128650.82 ns
      Std Dev: 18353.80 ns
      Min: 101940.61 ns
      Max: 263524.10 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 7798.53 lookups/sec
    Latency per lookup:
      Mean: 128229.25 ns
      Std Dev: 18329.18 ns
      Min: 101610.83 ns
      Max: 260645.55 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 7771.25 lookups/sec
    Latency per lookup:
      Mean: 128679.48 ns
      Std Dev: 18312.95 ns
      Min: 101693.43 ns
      Max: 262153.79 ns
  Overall Latency Statistics:
    Mean: 128707.35 ns
    Std Dev: 18330.62 ns
    Min: 100688.57 ns
    Max: 265258.44 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 260.06s
  Total lookups: 8000000
  End-to-end throughput: 30762.24 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3859.60 lookups/sec
    Latency per lookup:
      Mean: 259094.43 ns
      Std Dev: 21884.34 ns
      Min: 203548.86 ns
      Max: 349991.83 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3864.32 lookups/sec
    Latency per lookup:
      Mean: 258777.88 ns
      Std Dev: 22777.29 ns
      Min: 203896.89 ns
      Max: 343138.62 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 3852.55 lookups/sec
    Latency per lookup:
      Mean: 259568.20 ns
      Std Dev: 22447.92 ns
      Min: 191865.89 ns
      Max: 348236.17 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 3845.28 lookups/sec
    Latency per lookup:
      Mean: 260058.84 ns
      Std Dev: 23743.39 ns
      Min: 140131.75 ns
      Max: 350410.02 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 3855.80 lookups/sec
    Latency per lookup:
      Mean: 259349.55 ns
      Std Dev: 22184.08 ns
      Min: 204014.71 ns
      Max: 351308.24 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 3849.99 lookups/sec
    Latency per lookup:
      Mean: 259740.62 ns
      Std Dev: 22980.39 ns
      Min: 158093.81 ns
      Max: 348925.18 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 3853.87 lookups/sec
    Latency per lookup:
      Mean: 259479.60 ns
      Std Dev: 21880.38 ns
      Min: 198465.62 ns
      Max: 349405.12 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 3849.81 lookups/sec
    Latency per lookup:
      Mean: 259753.24 ns
      Std Dev: 22766.24 ns
      Min: 157108.68 ns
      Max: 357044.35 ns
  Overall Latency Statistics:
    Mean: 259477.80 ns
    Std Dev: 22593.74 ns
    Min: 140131.75 ns
    Max: 357044.35 ns
Run 3/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 129.69s
  Total lookups: 8000000
  End-to-end throughput: 61683.28 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7710.53 lookups/sec
    Latency per lookup:
      Mean: 129692.77 ns
      Std Dev: 18226.28 ns
      Min: 101629.69 ns
      Max: 263198.09 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7724.17 lookups/sec
    Latency per lookup:
      Mean: 129463.72 ns
      Std Dev: 18166.57 ns
      Min: 101163.25 ns
      Max: 261763.65 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7776.03 lookups/sec
    Latency per lookup:
      Mean: 128600.26 ns
      Std Dev: 18188.90 ns
      Min: 101907.05 ns
      Max: 261272.04 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7789.19 lookups/sec
    Latency per lookup:
      Mean: 128383.07 ns
      Std Dev: 18180.36 ns
      Min: 102117.82 ns
      Max: 261897.29 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 7783.80 lookups/sec
    Latency per lookup:
      Mean: 128471.98 ns
      Std Dev: 18298.31 ns
      Min: 101648.71 ns
      Max: 264809.13 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 7762.66 lookups/sec
    Latency per lookup:
      Mean: 128821.74 ns
      Std Dev: 18232.99 ns
      Min: 102303.11 ns
      Max: 262121.45 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 7760.56 lookups/sec
    Latency per lookup:
      Mean: 128856.72 ns
      Std Dev: 18295.88 ns
      Min: 102975.32 ns
      Max: 260727.33 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 7785.76 lookups/sec
    Latency per lookup:
      Mean: 128439.65 ns
      Std Dev: 18162.94 ns
      Min: 102153.08 ns
      Max: 264155.43 ns
  Overall Latency Statistics:
    Mean: 128841.24 ns
    Std Dev: 18224.86 ns
    Min: 101163.25 ns
    Max: 264809.13 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 261.06s
  Total lookups: 8000000
  End-to-end throughput: 30643.97 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 3833.56 lookups/sec
    Latency per lookup:
      Mean: 260854.47 ns
      Std Dev: 24174.56 ns
      Min: 156446.55 ns
      Max: 343152.01 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 3843.98 lookups/sec
    Latency per lookup:
      Mean: 260146.99 ns
      Std Dev: 23364.85 ns
      Min: 171058.63 ns
      Max: 343377.57 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 3860.30 lookups/sec
    Latency per lookup:
      Mean: 259047.52 ns
      Std Dev: 23076.89 ns
      Min: 199814.08 ns
      Max: 343604.47 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 3838.13 lookups/sec
    Latency per lookup:
      Mean: 260543.70 ns
      Std Dev: 23429.50 ns
      Min: 168851.90 ns
      Max: 342007.82 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 3830.50 lookups/sec
    Latency per lookup:
      Mean: 261062.48 ns
      Std Dev: 24433.43 ns
      Min: 146722.04 ns
      Max: 348508.38 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 3835.14 lookups/sec
    Latency per lookup:
      Mean: 260746.54 ns
      Std Dev: 23728.56 ns
      Min: 157969.56 ns
      Max: 351570.73 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 3848.28 lookups/sec
    Latency per lookup:
      Mean: 259856.03 ns
      Std Dev: 22884.64 ns
      Min: 200877.45 ns
      Max: 346782.50 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 3850.80 lookups/sec
    Latency per lookup:
      Mean: 259686.50 ns
      Std Dev: 23284.41 ns
      Min: 200932.05 ns
      Max: 341755.01 ns
  Overall Latency Statistics:
    Mean: 260243.03 ns
    Std Dev: 23561.10 ns
    Min: 146722.04 ns
    Max: 351570.73 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 1391 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 3050213046 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 9567803920 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 24000000 }, shards: [Shard { sum: AtomicF64 { inner: 4717207661173538816 }, count: AtomicU64 { inner: 24000000 }, buckets: [AtomicU64 { inner: 24000000 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 7848 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 6202178643 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 2826105611240 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 04:40:56 AM UTC 2025
