Benchmark started at Wed Mar 26 12:06:28 AM UTC 2025
Running benchmark with direct I/O: off, threads: 4...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 200 --num-threads 4 --header-file data/bench-header-1TB-10k.dat --uniform-file data/bench-uniform-1TB-10k.dat`
Running multithreaded benchmark with 4 threads
Run 1/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 88.61s
  Total lookups: 4000000
  End-to-end throughput: 45144.04 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11292.46 lookups/sec
    Latency per lookup:
      Mean: 88554.64 ns
      Std Dev: 1702.97 ns
      Min: 84091.35 ns
      Max: 93872.90 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11286.05 lookups/sec
    Latency per lookup:
      Mean: 88604.95 ns
      Std Dev: 1758.23 ns
      Min: 83638.43 ns
      Max: 93999.15 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11305.36 lookups/sec
    Latency per lookup:
      Mean: 88453.65 ns
      Std Dev: 1692.84 ns
      Min: 84269.07 ns
      Max: 93535.96 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11304.16 lookups/sec
    Latency per lookup:
      Mean: 88463.00 ns
      Std Dev: 1697.68 ns
      Min: 82248.27 ns
      Max: 93116.65 ns
  Overall Latency Statistics:
    Mean: 88519.06 ns
    Std Dev: 1714.31 ns
    Min: 82248.27 ns
    Max: 93999.15 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 85.27s
  Total lookups: 4000000
  End-to-end throughput: 46912.18 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11771.16 lookups/sec
    Latency per lookup:
      Mean: 84953.37 ns
      Std Dev: 1735.11 ns
      Min: 81292.05 ns
      Max: 119102.98 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11795.98 lookups/sec
    Latency per lookup:
      Mean: 84774.67 ns
      Std Dev: 1685.22 ns
      Min: 81159.92 ns
      Max: 116725.97 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11821.42 lookups/sec
    Latency per lookup:
      Mean: 84592.22 ns
      Std Dev: 1700.56 ns
      Min: 81070.00 ns
      Max: 118183.85 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11728.08 lookups/sec
    Latency per lookup:
      Mean: 85265.46 ns
      Std Dev: 1720.43 ns
      Min: 79783.31 ns
      Max: 118860.10 ns
  Overall Latency Statistics:
    Mean: 84896.43 ns
    Std Dev: 1728.38 ns
    Min: 79783.31 ns
    Max: 119102.98 ns
Run 2/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 91.33s
  Total lookups: 4000000
  End-to-end throughput: 43798.57 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10949.66 lookups/sec
    Latency per lookup:
      Mean: 91327.00 ns
      Std Dev: 1712.06 ns
      Min: 86965.39 ns
      Max: 96913.58 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10988.04 lookups/sec
    Latency per lookup:
      Mean: 91008.05 ns
      Std Dev: 1693.19 ns
      Min: 86544.54 ns
      Max: 95918.89 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10952.50 lookups/sec
    Latency per lookup:
      Mean: 91303.32 ns
      Std Dev: 1669.28 ns
      Min: 84969.75 ns
      Max: 96457.26 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10984.08 lookups/sec
    Latency per lookup:
      Mean: 91040.88 ns
      Std Dev: 1693.64 ns
      Min: 86609.90 ns
      Max: 96156.68 ns
  Overall Latency Statistics:
    Mean: 91169.81 ns
    Std Dev: 1698.40 ns
    Min: 84969.75 ns
    Max: 96913.58 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 85.14s
  Total lookups: 4000000
  End-to-end throughput: 46979.93 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11820.60 lookups/sec
    Latency per lookup:
      Mean: 84598.10 ns
      Std Dev: 1884.29 ns
      Min: 81026.94 ns
      Max: 124584.91 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11818.62 lookups/sec
    Latency per lookup:
      Mean: 84612.22 ns
      Std Dev: 1898.52 ns
      Min: 81037.31 ns
      Max: 123087.47 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11793.42 lookups/sec
    Latency per lookup:
      Mean: 84793.07 ns
      Std Dev: 1768.17 ns
      Min: 80321.93 ns
      Max: 123681.46 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11745.02 lookups/sec
    Latency per lookup:
      Mean: 85142.50 ns
      Std Dev: 1797.46 ns
      Min: 79531.23 ns
      Max: 123326.32 ns
  Overall Latency Statistics:
    Mean: 84786.47 ns
    Std Dev: 1851.00 ns
    Min: 79531.23 ns
    Max: 124584.91 ns
Run 3/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 88.66s
  Total lookups: 4000000
  End-to-end throughput: 45118.40 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11308.32 lookups/sec
    Latency per lookup:
      Mean: 88430.50 ns
      Std Dev: 1881.13 ns
      Min: 82903.40 ns
      Max: 94077.22 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11318.09 lookups/sec
    Latency per lookup:
      Mean: 88354.14 ns
      Std Dev: 1932.15 ns
      Min: 83205.55 ns
      Max: 94927.70 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11279.63 lookups/sec
    Latency per lookup:
      Mean: 88655.39 ns
      Std Dev: 1879.74 ns
      Min: 82427.64 ns
      Max: 94758.13 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11310.36 lookups/sec
    Latency per lookup:
      Mean: 88414.52 ns
      Std Dev: 1770.31 ns
      Min: 84080.43 ns
      Max: 93944.99 ns
  Overall Latency Statistics:
    Mean: 88463.64 ns
    Std Dev: 1870.26 ns
    Min: 82427.64 ns
    Max: 94927.70 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 85.00s
  Total lookups: 4000000
  End-to-end throughput: 47058.29 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11786.86 lookups/sec
    Latency per lookup:
      Mean: 84840.23 ns
      Std Dev: 1231.27 ns
      Min: 81148.03 ns
      Max: 88740.91 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11781.76 lookups/sec
    Latency per lookup:
      Mean: 84876.93 ns
      Std Dev: 1125.28 ns
      Min: 80234.94 ns
      Max: 88321.35 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11790.89 lookups/sec
    Latency per lookup:
      Mean: 84811.23 ns
      Std Dev: 1100.87 ns
      Min: 81363.41 ns
      Max: 87648.69 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11764.61 lookups/sec
    Latency per lookup:
      Mean: 85000.71 ns
      Std Dev: 1066.29 ns
      Min: 79841.85 ns
      Max: 89102.93 ns
  Overall Latency Statistics:
    Mean: 84882.28 ns
    Std Dev: 1134.91 ns
    Min: 79841.85 ns
    Max: 89102.93 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 1111 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1054303844 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 4783511120 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 12000000 }, shards: [Shard { sum: AtomicF64 { inner: 4712844774338461696 }, count: AtomicU64 { inner: 12000000 }, buckets: [AtomicU64 { inner: 11737902 }, AtomicU64 { inner: 262098 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 6077 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1000632713 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 97616768480 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 12:15:12 AM UTC 2025
