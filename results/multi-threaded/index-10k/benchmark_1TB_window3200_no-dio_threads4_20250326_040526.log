Benchmark started at Wed Mar 26 04:05:26 AM UTC 2025
Running benchmark with direct I/O: off, threads: 4...
    Finished `release` profile [optimized] target(s) in 0.17s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 3200 --num-threads 4 --header-file data/bench-header-1TB-10k.dat --uniform-file data/bench-uniform-1TB-10k.dat`
Running multithreaded benchmark with 4 threads
Run 1/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 141.84s
  Total lookups: 4000000
  End-to-end throughput: 28200.61 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7065.28 lookups/sec
    Latency per lookup:
      Mean: 141537.13 ns
      Std Dev: 10859.84 ns
      Min: 122777.81 ns
      Max: 162306.07 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7050.17 lookups/sec
    Latency per lookup:
      Mean: 141840.53 ns
      Std Dev: 10813.06 ns
      Min: 120179.68 ns
      Max: 164268.81 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7063.23 lookups/sec
    Latency per lookup:
      Mean: 141578.37 ns
      Std Dev: 10865.58 ns
      Min: 122398.35 ns
      Max: 162990.18 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7064.39 lookups/sec
    Latency per lookup:
      Mean: 141554.96 ns
      Std Dev: 10804.21 ns
      Min: 121688.92 ns
      Max: 162676.10 ns
  Overall Latency Statistics:
    Mean: 141627.75 ns
    Std Dev: 10836.41 ns
    Min: 120179.68 ns
    Max: 164268.81 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 176.62s
  Total lookups: 4000000
  End-to-end throughput: 22647.12 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5673.44 lookups/sec
    Latency per lookup:
      Mean: 176259.78 ns
      Std Dev: 7999.69 ns
      Min: 153639.25 ns
      Max: 227426.10 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5700.78 lookups/sec
    Latency per lookup:
      Mean: 175414.62 ns
      Std Dev: 7736.64 ns
      Min: 159737.60 ns
      Max: 225849.90 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 5661.79 lookups/sec
    Latency per lookup:
      Mean: 176622.59 ns
      Std Dev: 8061.49 ns
      Min: 141211.04 ns
      Max: 221208.82 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 5695.56 lookups/sec
    Latency per lookup:
      Mean: 175575.37 ns
      Std Dev: 7605.85 ns
      Min: 160233.20 ns
      Max: 219073.60 ns
  Overall Latency Statistics:
    Mean: 175968.09 ns
    Std Dev: 7868.63 ns
    Min: 141211.04 ns
    Max: 227426.10 ns
Run 2/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 143.22s
  Total lookups: 4000000
  End-to-end throughput: 27928.92 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6982.24 lookups/sec
    Latency per lookup:
      Mean: 143220.44 ns
      Std Dev: 11828.83 ns
      Min: 121715.33 ns
      Max: 197330.48 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7080.19 lookups/sec
    Latency per lookup:
      Mean: 141239.09 ns
      Std Dev: 11545.32 ns
      Min: 121646.24 ns
      Max: 167471.74 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7060.85 lookups/sec
    Latency per lookup:
      Mean: 141626.05 ns
      Std Dev: 11651.78 ns
      Min: 121449.40 ns
      Max: 166602.69 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7080.24 lookups/sec
    Latency per lookup:
      Mean: 141238.25 ns
      Std Dev: 11543.16 ns
      Min: 121822.41 ns
      Max: 167781.23 ns
  Overall Latency Statistics:
    Mean: 141830.96 ns
    Std Dev: 11671.53 ns
    Min: 121449.40 ns
    Max: 197330.48 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 177.05s
  Total lookups: 4000000
  End-to-end throughput: 22592.35 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5648.10 lookups/sec
    Latency per lookup:
      Mean: 177050.77 ns
      Std Dev: 4676.66 ns
      Min: 143687.51 ns
      Max: 208051.60 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5706.38 lookups/sec
    Latency per lookup:
      Mean: 175242.45 ns
      Std Dev: 3899.49 ns
      Min: 161503.25 ns
      Max: 205763.76 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 5663.19 lookups/sec
    Latency per lookup:
      Mean: 176578.80 ns
      Std Dev: 4118.36 ns
      Min: 154389.51 ns
      Max: 209000.06 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 5699.68 lookups/sec
    Latency per lookup:
      Mean: 175448.48 ns
      Std Dev: 3818.19 ns
      Min: 162385.48 ns
      Max: 203441.60 ns
  Overall Latency Statistics:
    Mean: 176080.12 ns
    Std Dev: 4210.35 ns
    Min: 143687.51 ns
    Max: 209000.06 ns
Run 3/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 143.46s
  Total lookups: 4000000
  End-to-end throughput: 27881.57 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6970.40 lookups/sec
    Latency per lookup:
      Mean: 143463.73 ns
      Std Dev: 11626.99 ns
      Min: 121079.30 ns
      Max: 167893.48 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7047.53 lookups/sec
    Latency per lookup:
      Mean: 141893.69 ns
      Std Dev: 11456.86 ns
      Min: 122011.82 ns
      Max: 166654.48 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 7047.66 lookups/sec
    Latency per lookup:
      Mean: 141891.03 ns
      Std Dev: 11526.56 ns
      Min: 121409.76 ns
      Max: 166934.41 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 7053.85 lookups/sec
    Latency per lookup:
      Mean: 141766.50 ns
      Std Dev: 11615.65 ns
      Min: 122308.48 ns
      Max: 167648.89 ns
  Overall Latency Statistics:
    Mean: 142253.74 ns
    Std Dev: 11577.93 ns
    Min: 121079.30 ns
    Max: 167893.48 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 176.82s
  Total lookups: 4000000
  End-to-end throughput: 22622.20 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 5687.16 lookups/sec
    Latency per lookup:
      Mean: 175834.74 ns
      Std Dev: 4121.60 ns
      Min: 158773.76 ns
      Max: 205385.96 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 5655.56 lookups/sec
    Latency per lookup:
      Mean: 176817.22 ns
      Std Dev: 4931.01 ns
      Min: 142773.64 ns
      Max: 211292.78 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 5687.94 lookups/sec
    Latency per lookup:
      Mean: 175810.73 ns
      Std Dev: 4192.83 ns
      Min: 162777.29 ns
      Max: 207465.62 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 5695.28 lookups/sec
    Latency per lookup:
      Mean: 175584.09 ns
      Std Dev: 3992.24 ns
      Min: 163173.82 ns
      Max: 206678.02 ns
  Overall Latency Statistics:
    Mean: 176011.69 ns
    Std Dev: 4350.97 ns
    Min: 142773.64 ns
    Max: 211292.78 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 786 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1681965870 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 4783773040 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 12000000 }, shards: [Shard { sum: AtomicF64 { inner: 4712704061546168320 }, count: AtomicU64 { inner: 12000000 }, buckets: [AtomicU64 { inner: 12000000 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 5412 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 2094083384 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 1413123032560 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 04:21:25 AM UTC 2025
