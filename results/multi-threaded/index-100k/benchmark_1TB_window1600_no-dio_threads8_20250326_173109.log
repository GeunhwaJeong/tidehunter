Benchmark started at Wed Mar 26 05:31:09 PM UTC 2025
Running benchmark with direct I/O: off, threads: 8...
    Finished `release` profile [optimized] target(s) in 0.19s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 1600 --num-threads 8 --header-file data/bench-header-1TB-100k.dat --uniform-file data/bench-uniform-1TB-100k.dat`
Running multithreaded benchmark with 8 threads
Run 1/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 88.59s
  Total lookups: 8000000
  End-to-end throughput: 90307.41 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11314.34 lookups/sec
    Latency per lookup:
      Mean: 88383.38 ns
      Std Dev: 1715.51 ns
      Min: 83622.89 ns
      Max: 93434.50 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11330.15 lookups/sec
    Latency per lookup:
      Mean: 88260.05 ns
      Std Dev: 1840.52 ns
      Min: 84172.81 ns
      Max: 94674.32 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11288.48 lookups/sec
    Latency per lookup:
      Mean: 88585.88 ns
      Std Dev: 1982.75 ns
      Min: 81271.94 ns
      Max: 93387.36 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11358.09 lookups/sec
    Latency per lookup:
      Mean: 88042.99 ns
      Std Dev: 1699.70 ns
      Min: 84131.23 ns
      Max: 93004.84 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 11318.51 lookups/sec
    Latency per lookup:
      Mean: 88350.82 ns
      Std Dev: 1881.02 ns
      Min: 83274.04 ns
      Max: 93776.10 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 11311.26 lookups/sec
    Latency per lookup:
      Mean: 88407.50 ns
      Std Dev: 1670.41 ns
      Min: 83746.28 ns
      Max: 93616.51 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 11338.44 lookups/sec
    Latency per lookup:
      Mean: 88195.57 ns
      Std Dev: 1728.42 ns
      Min: 84401.78 ns
      Max: 93507.50 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 11323.75 lookups/sec
    Latency per lookup:
      Mean: 88309.94 ns
      Std Dev: 1838.60 ns
      Min: 84604.56 ns
      Max: 93967.73 ns
  Overall Latency Statistics:
    Mean: 88317.02 ns
    Std Dev: 1803.69 ns
    Min: 81271.94 ns
    Max: 94674.32 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 164.98s
  Total lookups: 8000000
  End-to-end throughput: 48492.11 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6083.66 lookups/sec
    Latency per lookup:
      Mean: 164374.80 ns
      Std Dev: 5132.87 ns
      Min: 146169.75 ns
      Max: 205809.29 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6066.02 lookups/sec
    Latency per lookup:
      Mean: 164852.76 ns
      Std Dev: 5811.61 ns
      Min: 119876.25 ns
      Max: 200471.25 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6083.01 lookups/sec
    Latency per lookup:
      Mean: 164392.39 ns
      Std Dev: 5415.79 ns
      Min: 146705.94 ns
      Max: 201141.63 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6090.17 lookups/sec
    Latency per lookup:
      Mean: 164199.06 ns
      Std Dev: 5170.18 ns
      Min: 146236.48 ns
      Max: 203498.65 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 6069.21 lookups/sec
    Latency per lookup:
      Mean: 164766.00 ns
      Std Dev: 5916.91 ns
      Min: 132020.55 ns
      Max: 203482.87 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 6061.53 lookups/sec
    Latency per lookup:
      Mean: 164974.94 ns
      Std Dev: 6149.82 ns
      Min: 112904.56 ns
      Max: 201609.78 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 6080.56 lookups/sec
    Latency per lookup:
      Mean: 164458.45 ns
      Std Dev: 5373.30 ns
      Min: 147105.58 ns
      Max: 178339.67 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 6069.34 lookups/sec
    Latency per lookup:
      Mean: 164762.46 ns
      Std Dev: 5920.13 ns
      Min: 129056.12 ns
      Max: 205020.59 ns
  Overall Latency Statistics:
    Mean: 164597.61 ns
    Std Dev: 5628.79 ns
    Min: 112904.56 ns
    Max: 205809.29 ns
Run 2/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 95.16s
  Total lookups: 8000000
  End-to-end throughput: 84072.34 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10526.53 lookups/sec
    Latency per lookup:
      Mean: 94998.07 ns
      Std Dev: 15545.25 ns
      Min: 82587.92 ns
      Max: 201485.36 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10534.67 lookups/sec
    Latency per lookup:
      Mean: 94924.66 ns
      Std Dev: 15392.39 ns
      Min: 84564.04 ns
      Max: 201241.15 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10549.25 lookups/sec
    Latency per lookup:
      Mean: 94793.47 ns
      Std Dev: 15332.91 ns
      Min: 84455.55 ns
      Max: 179369.35 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10536.17 lookups/sec
    Latency per lookup:
      Mean: 94911.19 ns
      Std Dev: 15218.08 ns
      Min: 84345.68 ns
      Max: 170339.43 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 10511.97 lookups/sec
    Latency per lookup:
      Mean: 95129.66 ns
      Std Dev: 15380.70 ns
      Min: 83189.26 ns
      Max: 172685.94 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 10530.65 lookups/sec
    Latency per lookup:
      Mean: 94960.94 ns
      Std Dev: 15337.94 ns
      Min: 83936.53 ns
      Max: 176732.29 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 10553.71 lookups/sec
    Latency per lookup:
      Mean: 94753.43 ns
      Std Dev: 15246.59 ns
      Min: 84053.83 ns
      Max: 175962.25 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 10509.89 lookups/sec
    Latency per lookup:
      Mean: 95148.50 ns
      Std Dev: 15454.37 ns
      Min: 83024.06 ns
      Max: 171392.10 ns
  Overall Latency Statistics:
    Mean: 94952.49 ns
    Std Dev: 15364.41 ns
    Min: 82587.92 ns
    Max: 201485.36 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 165.45s
  Total lookups: 8000000
  End-to-end throughput: 48353.91 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6050.90 lookups/sec
    Latency per lookup:
      Mean: 165264.66 ns
      Std Dev: 4981.50 ns
      Min: 130961.27 ns
      Max: 177807.51 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6052.22 lookups/sec
    Latency per lookup:
      Mean: 165228.51 ns
      Std Dev: 5732.32 ns
      Min: 129934.56 ns
      Max: 175975.06 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6061.14 lookups/sec
    Latency per lookup:
      Mean: 164985.48 ns
      Std Dev: 5031.93 ns
      Min: 145222.18 ns
      Max: 174807.05 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6088.00 lookups/sec
    Latency per lookup:
      Mean: 164257.67 ns
      Std Dev: 5288.72 ns
      Min: 145821.17 ns
      Max: 175402.92 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 6060.67 lookups/sec
    Latency per lookup:
      Mean: 164998.27 ns
      Std Dev: 5592.49 ns
      Min: 145213.60 ns
      Max: 176826.12 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 6057.60 lookups/sec
    Latency per lookup:
      Mean: 165081.90 ns
      Std Dev: 5483.48 ns
      Min: 144697.54 ns
      Max: 175237.73 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 6044.74 lookups/sec
    Latency per lookup:
      Mean: 165432.98 ns
      Std Dev: 5708.57 ns
      Min: 122582.22 ns
      Max: 178457.18 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 6044.25 lookups/sec
    Latency per lookup:
      Mean: 165446.55 ns
      Std Dev: 5814.39 ns
      Min: 120720.88 ns
      Max: 177236.83 ns
  Overall Latency Statistics:
    Mean: 165087.00 ns
    Std Dev: 5473.94 ns
    Min: 120720.88 ns
    Max: 178457.18 ns
Run 3/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 94.99s
  Total lookups: 8000000
  End-to-end throughput: 84219.23 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 10567.42 lookups/sec
    Latency per lookup:
      Mean: 94630.48 ns
      Std Dev: 15219.56 ns
      Min: 83804.77 ns
      Max: 170651.67 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 10558.61 lookups/sec
    Latency per lookup:
      Mean: 94709.43 ns
      Std Dev: 15339.08 ns
      Min: 84794.38 ns
      Max: 171142.79 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 10538.65 lookups/sec
    Latency per lookup:
      Mean: 94888.78 ns
      Std Dev: 15278.29 ns
      Min: 82892.04 ns
      Max: 170727.54 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 10554.61 lookups/sec
    Latency per lookup:
      Mean: 94745.30 ns
      Std Dev: 15200.66 ns
      Min: 84497.01 ns
      Max: 170274.24 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 10551.60 lookups/sec
    Latency per lookup:
      Mean: 94772.35 ns
      Std Dev: 15275.74 ns
      Min: 84160.19 ns
      Max: 170933.78 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 10552.98 lookups/sec
    Latency per lookup:
      Mean: 94759.93 ns
      Std Dev: 15279.77 ns
      Min: 84182.06 ns
      Max: 170950.10 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 10527.43 lookups/sec
    Latency per lookup:
      Mean: 94989.93 ns
      Std Dev: 15489.11 ns
      Min: 82922.33 ns
      Max: 172059.13 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 10566.10 lookups/sec
    Latency per lookup:
      Mean: 94642.26 ns
      Std Dev: 15211.86 ns
      Min: 84413.60 ns
      Max: 169585.20 ns
  Overall Latency Statistics:
    Mean: 94767.31 ns
    Std Dev: 15287.43 ns
    Min: 82892.04 ns
    Max: 172059.13 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 165.19s
  Total lookups: 8000000
  End-to-end throughput: 48428.58 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6053.58 lookups/sec
    Latency per lookup:
      Mean: 165191.49 ns
      Std Dev: 5997.31 ns
      Min: 117693.37 ns
      Max: 177908.34 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6071.07 lookups/sec
    Latency per lookup:
      Mean: 164715.58 ns
      Std Dev: 5641.74 ns
      Min: 143459.68 ns
      Max: 180101.34 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6060.12 lookups/sec
    Latency per lookup:
      Mean: 165013.18 ns
      Std Dev: 5765.68 ns
      Min: 124923.30 ns
      Max: 177349.22 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6056.83 lookups/sec
    Latency per lookup:
      Mean: 165102.76 ns
      Std Dev: 5937.90 ns
      Min: 126594.52 ns
      Max: 176407.49 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 6069.61 lookups/sec
    Latency per lookup:
      Mean: 164755.19 ns
      Std Dev: 5553.37 ns
      Min: 138324.10 ns
      Max: 176924.17 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 6112.18 lookups/sec
    Latency per lookup:
      Mean: 163607.79 ns
      Std Dev: 5450.22 ns
      Min: 146475.84 ns
      Max: 179271.93 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 6070.59 lookups/sec
    Latency per lookup:
      Mean: 164728.77 ns
      Std Dev: 5300.15 ns
      Min: 139344.82 ns
      Max: 175238.76 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 6084.67 lookups/sec
    Latency per lookup:
      Mean: 164347.32 ns
      Std Dev: 5362.12 ns
      Min: 145712.66 ns
      Max: 177371.87 ns
  Overall Latency Statistics:
    Mean: 164682.76 ns
    Std Dev: 5651.42 ns
    Min: 117693.37 ns
    Max: 180101.34 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 3139 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 2186922335 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 93942590440 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 24000000 }, shards: [Shard { sum: AtomicF64 { inner: 4717207661173538816 }, count: AtomicU64 { inner: 24000000 }, buckets: [AtomicU64 { inner: 24000000 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 8589 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 3919493905 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 1529862443200 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 05:44:04 PM UTC 2025
