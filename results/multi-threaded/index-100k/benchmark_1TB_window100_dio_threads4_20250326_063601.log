Benchmark started at Wed Mar 26 06:36:01 AM UTC 2025
Running benchmark with direct I/O: on, threads: 4...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 100 --num-threads 4 --header-file data/bench-header-1TB-100k.dat --uniform-file data/bench-uniform-1TB-100k.dat --direct-io`
Running multithreaded benchmark with 4 threads
Run 1/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 162.13s
  Total lookups: 4000000
  End-to-end throughput: 24671.88 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6210.34 lookups/sec
    Latency per lookup:
      Mean: 161021.80 ns
      Std Dev: 425.80 ns
      Min: 159697.77 ns
      Max: 162395.09 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6194.04 lookups/sec
    Latency per lookup:
      Mean: 161445.55 ns
      Std Dev: 427.46 ns
      Min: 160172.88 ns
      Max: 162918.09 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6167.98 lookups/sec
    Latency per lookup:
      Mean: 162127.57 ns
      Std Dev: 497.79 ns
      Min: 157962.58 ns
      Max: 163436.98 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6201.27 lookups/sec
    Latency per lookup:
      Mean: 161257.22 ns
      Std Dev: 446.91 ns
      Min: 159713.58 ns
      Max: 162846.01 ns
  Overall Latency Statistics:
    Mean: 161463.04 ns
    Std Dev: 610.43 ns
    Min: 157962.58 ns
    Max: 163436.98 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.35s
  Total lookups: 4000000
  End-to-end throughput: 25101.80 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6292.60 lookups/sec
    Latency per lookup:
      Mean: 158916.72 ns
      Std Dev: 2323.00 ns
      Min: 150979.16 ns
      Max: 165737.32 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6275.46 lookups/sec
    Latency per lookup:
      Mean: 159350.88 ns
      Std Dev: 2313.67 ns
      Min: 152243.52 ns
      Max: 167227.68 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6288.55 lookups/sec
    Latency per lookup:
      Mean: 159019.28 ns
      Std Dev: 2346.03 ns
      Min: 150569.59 ns
      Max: 167451.83 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6293.39 lookups/sec
    Latency per lookup:
      Mean: 158896.92 ns
      Std Dev: 2410.37 ns
      Min: 150857.26 ns
      Max: 167196.65 ns
  Overall Latency Statistics:
    Mean: 159045.95 ns
    Std Dev: 2355.62 ns
    Min: 150569.59 ns
    Max: 167451.83 ns
Run 2/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 162.15s
  Total lookups: 4000000
  End-to-end throughput: 24669.06 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6188.08 lookups/sec
    Latency per lookup:
      Mean: 161601.13 ns
      Std Dev: 442.23 ns
      Min: 160472.02 ns
      Max: 164984.63 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6167.27 lookups/sec
    Latency per lookup:
      Mean: 162146.22 ns
      Std Dev: 409.39 ns
      Min: 160446.87 ns
      Max: 163496.90 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6185.38 lookups/sec
    Latency per lookup:
      Mean: 161671.55 ns
      Std Dev: 421.98 ns
      Min: 160302.36 ns
      Max: 163196.16 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6168.40 lookups/sec
    Latency per lookup:
      Mean: 162116.59 ns
      Std Dev: 441.89 ns
      Min: 160107.21 ns
      Max: 163584.95 ns
  Overall Latency Statistics:
    Mean: 161883.87 ns
    Std Dev: 496.11 ns
    Min: 160107.21 ns
    Max: 164984.63 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.57s
  Total lookups: 4000000
  End-to-end throughput: 25067.66 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6273.27 lookups/sec
    Latency per lookup:
      Mean: 159406.55 ns
      Std Dev: 2471.78 ns
      Min: 151828.51 ns
      Max: 166829.71 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6266.92 lookups/sec
    Latency per lookup:
      Mean: 159567.94 ns
      Std Dev: 2429.24 ns
      Min: 152285.82 ns
      Max: 168071.82 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6271.80 lookups/sec
    Latency per lookup:
      Mean: 159443.92 ns
      Std Dev: 2438.30 ns
      Min: 152652.45 ns
      Max: 167094.64 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6299.04 lookups/sec
    Latency per lookup:
      Mean: 158754.37 ns
      Std Dev: 2308.05 ns
      Min: 151624.31 ns
      Max: 167410.67 ns
  Overall Latency Statistics:
    Mean: 159293.20 ns
    Std Dev: 2433.35 ns
    Min: 151624.31 ns
    Max: 168071.82 ns
Run 3/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 162.09s
  Total lookups: 4000000
  End-to-end throughput: 24677.42 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6169.36 lookups/sec
    Latency per lookup:
      Mean: 162091.31 ns
      Std Dev: 443.75 ns
      Min: 157824.49 ns
      Max: 163498.07 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6185.70 lookups/sec
    Latency per lookup:
      Mean: 161663.22 ns
      Std Dev: 407.73 ns
      Min: 160307.49 ns
      Max: 163052.86 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6186.38 lookups/sec
    Latency per lookup:
      Mean: 161645.51 ns
      Std Dev: 426.08 ns
      Min: 160374.07 ns
      Max: 163053.03 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6177.49 lookups/sec
    Latency per lookup:
      Mean: 161878.04 ns
      Std Dev: 409.10 ns
      Min: 160665.85 ns
      Max: 163424.42 ns
  Overall Latency Statistics:
    Mean: 161819.52 ns
    Std Dev: 459.37 ns
    Min: 157824.49 ns
    Max: 163498.07 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 159.35s
  Total lookups: 4000000
  End-to-end throughput: 25101.31 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 6282.70 lookups/sec
    Latency per lookup:
      Mean: 159167.14 ns
      Std Dev: 2376.72 ns
      Min: 152686.48 ns
      Max: 166736.54 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 6275.34 lookups/sec
    Latency per lookup:
      Mean: 159353.98 ns
      Std Dev: 2434.63 ns
      Min: 151770.34 ns
      Max: 167887.19 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 6290.70 lookups/sec
    Latency per lookup:
      Mean: 158964.82 ns
      Std Dev: 2255.84 ns
      Min: 151631.26 ns
      Max: 166168.80 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 6298.19 lookups/sec
    Latency per lookup:
      Mean: 158775.85 ns
      Std Dev: 2375.39 ns
      Min: 150095.92 ns
      Max: 165585.04 ns
  Overall Latency Statistics:
    Mean: 159065.45 ns
    Std Dev: 2371.45 ns
    Min: 150095.92 ns
    Max: 167887.19 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 16574 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1914522600 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 46971906440 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 12000000 }, shards: [Shard { sum: AtomicF64 { inner: 4717107197593518080 }, count: AtomicU64 { inner: 12000000 }, buckets: [AtomicU64 { inner: 4123843 }, AtomicU64 { inner: 5061356 }, AtomicU64 { inner: 2053599 }, AtomicU64 { inner: 611007 }, AtomicU64 { inner: 129002 }, AtomicU64 { inner: 19141 }, AtomicU64 { inner: 1909 }, AtomicU64 { inner: 142 }, AtomicU64 { inner: 1 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 9621 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1876630888 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 94491087640 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 06:52:06 AM UTC 2025
