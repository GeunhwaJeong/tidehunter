Benchmark started at Wed Mar 26 02:47:21 PM UTC 2025
Running benchmark with direct I/O: off, threads: 4...
    Finished `release` profile [optimized] target(s) in 0.06s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 200 --num-threads 4 --header-file data/bench-header-1TB-100k.dat --uniform-file data/bench-uniform-1TB-100k.dat`
Running multithreaded benchmark with 4 threads
Run 1/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 84.25s
  Total lookups: 4000000
  End-to-end throughput: 47476.78 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11921.19 lookups/sec
    Latency per lookup:
      Mean: 83884.24 ns
      Std Dev: 723.00 ns
      Min: 81466.12 ns
      Max: 86060.61 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11869.24 lookups/sec
    Latency per lookup:
      Mean: 84251.39 ns
      Std Dev: 816.52 ns
      Min: 81109.41 ns
      Max: 86721.98 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11888.34 lookups/sec
    Latency per lookup:
      Mean: 84116.04 ns
      Std Dev: 829.62 ns
      Min: 81710.31 ns
      Max: 86870.54 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11918.10 lookups/sec
    Latency per lookup:
      Mean: 83905.98 ns
      Std Dev: 719.02 ns
      Min: 81331.24 ns
      Max: 86228.43 ns
  Overall Latency Statistics:
    Mean: 84039.41 ns
    Std Dev: 788.57 ns
    Min: 81109.41 ns
    Max: 86870.54 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 111.01s
  Total lookups: 4000000
  End-to-end throughput: 36033.28 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9008.34 lookups/sec
    Latency per lookup:
      Mean: 111008.26 ns
      Std Dev: 2242.99 ns
      Min: 101275.62 ns
      Max: 123031.96 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9088.29 lookups/sec
    Latency per lookup:
      Mean: 110031.67 ns
      Std Dev: 1971.61 ns
      Min: 103792.63 ns
      Max: 116097.76 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 9086.31 lookups/sec
    Latency per lookup:
      Mean: 110055.63 ns
      Std Dev: 2076.35 ns
      Min: 104654.30 ns
      Max: 115995.60 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 9029.60 lookups/sec
    Latency per lookup:
      Mean: 110746.93 ns
      Std Dev: 1982.42 ns
      Min: 101931.39 ns
      Max: 116508.21 ns
  Overall Latency Statistics:
    Mean: 110460.62 ns
    Std Dev: 2114.79 ns
    Min: 101275.62 ns
    Max: 123031.96 ns
Run 2/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 84.29s
  Total lookups: 4000000
  End-to-end throughput: 47456.96 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11864.27 lookups/sec
    Latency per lookup:
      Mean: 84286.70 ns
      Std Dev: 855.09 ns
      Min: 79717.22 ns
      Max: 87258.64 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11912.95 lookups/sec
    Latency per lookup:
      Mean: 83942.24 ns
      Std Dev: 836.03 ns
      Min: 80942.76 ns
      Max: 86593.62 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11900.43 lookups/sec
    Latency per lookup:
      Mean: 84030.54 ns
      Std Dev: 859.17 ns
      Min: 81448.71 ns
      Max: 86824.05 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11911.66 lookups/sec
    Latency per lookup:
      Mean: 83951.35 ns
      Std Dev: 888.55 ns
      Min: 81271.34 ns
      Max: 86487.67 ns
  Overall Latency Statistics:
    Mean: 84052.71 ns
    Std Dev: 871.14 ns
    Min: 79717.22 ns
    Max: 87258.64 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 110.76s
  Total lookups: 4000000
  End-to-end throughput: 36114.06 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9028.53 lookups/sec
    Latency per lookup:
      Mean: 110759.95 ns
      Std Dev: 2177.47 ns
      Min: 104352.17 ns
      Max: 116647.82 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9069.91 lookups/sec
    Latency per lookup:
      Mean: 110254.68 ns
      Std Dev: 2024.38 ns
      Min: 104579.01 ns
      Max: 116484.15 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 9046.50 lookups/sec
    Latency per lookup:
      Mean: 110539.95 ns
      Std Dev: 1991.92 ns
      Min: 103422.23 ns
      Max: 116326.53 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 9091.29 lookups/sec
    Latency per lookup:
      Mean: 109995.41 ns
      Std Dev: 2037.36 ns
      Min: 103927.09 ns
      Max: 117119.58 ns
  Overall Latency Statistics:
    Mean: 110387.50 ns
    Std Dev: 2079.15 ns
    Min: 103422.23 ns
    Max: 117119.58 ns
Run 3/3
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 84.76s
  Total lookups: 4000000
  End-to-end throughput: 47190.40 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11797.63 lookups/sec
    Latency per lookup:
      Mean: 84762.76 ns
      Std Dev: 726.33 ns
      Min: 82213.05 ns
      Max: 86780.18 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11806.02 lookups/sec
    Latency per lookup:
      Mean: 84702.53 ns
      Std Dev: 686.16 ns
      Min: 82040.60 ns
      Max: 86792.86 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11800.87 lookups/sec
    Latency per lookup:
      Mean: 84739.54 ns
      Std Dev: 696.41 ns
      Min: 82463.33 ns
      Max: 87209.12 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11814.75 lookups/sec
    Latency per lookup:
      Mean: 84639.96 ns
      Std Dev: 682.19 ns
      Min: 82213.74 ns
      Max: 86358.42 ns
  Overall Latency Statistics:
    Mean: 84711.20 ns
    Std Dev: 699.53 ns
    Min: 82040.60 ns
    Max: 87209.12 ns
Running multithreaded benchmark with 4 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 4
  End-to-end time: 110.72s
  Total lookups: 4000000
  End-to-end throughput: 36126.09 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 9046.58 lookups/sec
    Latency per lookup:
      Mean: 110539.03 ns
      Std Dev: 1937.58 ns
      Min: 105380.57 ns
      Max: 117323.07 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9031.54 lookups/sec
    Latency per lookup:
      Mean: 110723.04 ns
      Std Dev: 2016.30 ns
      Min: 101008.04 ns
      Max: 117972.84 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 9066.78 lookups/sec
    Latency per lookup:
      Mean: 110292.68 ns
      Std Dev: 2058.22 ns
      Min: 102701.51 ns
      Max: 117547.85 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 9101.62 lookups/sec
    Latency per lookup:
      Mean: 109870.52 ns
      Std Dev: 1988.19 ns
      Min: 103692.27 ns
      Max: 115811.10 ns
  Overall Latency Statistics:
    Mean: 110356.32 ns
    Std Dev: 2025.88 ns
    Min: 101008.04 ns
    Max: 117972.84 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 1690 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 993141329 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 46970574000 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 12000000 }, shards: [Shard { sum: AtomicF64 { inner: 4715380148562558976 }, count: AtomicU64 { inner: 12000000 }, buckets: [AtomicU64 { inner: 7160170 }, AtomicU64 { inner: 4493991 }, AtomicU64 { inner: 339550 }, AtomicU64 { inner: 6262 }, AtomicU64 { inner: 27 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 6861 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 1303494035 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 137487474120 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 02:57:07 PM UTC 2025
