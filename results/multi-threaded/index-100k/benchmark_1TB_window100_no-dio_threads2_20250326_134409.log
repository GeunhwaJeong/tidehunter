Benchmark started at Wed Mar 26 01:44:09 PM UTC 2025
Running benchmark with direct I/O: off, threads: 2...
    Finished `release` profile [optimized] target(s) in 0.05s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 100 --num-threads 2 --header-file data/bench-header-1TB-100k.dat --uniform-file data/bench-uniform-1TB-100k.dat`
Running multithreaded benchmark with 2 threads
Run 1/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 85.40s
  Total lookups: 2000000
  End-to-end throughput: 23418.45 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11709.26 lookups/sec
    Latency per lookup:
      Mean: 85402.51 ns
      Std Dev: 916.72 ns
      Min: 82654.05 ns
      Max: 89226.11 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11717.33 lookups/sec
    Latency per lookup:
      Mean: 85343.69 ns
      Std Dev: 934.82 ns
      Min: 82725.20 ns
      Max: 88570.04 ns
  Overall Latency Statistics:
    Mean: 85373.10 ns
    Std Dev: 926.28 ns
    Min: 82654.05 ns
    Max: 89226.11 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 139.67s
  Total lookups: 2000000
  End-to-end throughput: 14319.81 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7159.92 lookups/sec
    Latency per lookup:
      Mean: 139666.45 ns
      Std Dev: 3777.22 ns
      Min: 129565.91 ns
      Max: 149214.54 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 9764.30 lookups/sec
    Latency per lookup:
      Mean: 102413.92 ns
      Std Dev: 3106.49 ns
      Min: 91929.93 ns
      Max: 114677.84 ns
  Overall Latency Statistics:
    Mean: 121040.19 ns
    Std Dev: 18944.57 ns
    Min: 91929.93 ns
    Max: 149214.54 ns
Run 2/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 83.80s
  Total lookups: 2000000
  End-to-end throughput: 23864.96 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11932.51 lookups/sec
    Latency per lookup:
      Mean: 83804.65 ns
      Std Dev: 740.27 ns
      Min: 81277.14 ns
      Max: 86176.82 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11945.76 lookups/sec
    Latency per lookup:
      Mean: 83711.73 ns
      Std Dev: 646.59 ns
      Min: 81458.92 ns
      Max: 86085.15 ns
  Overall Latency Statistics:
    Mean: 83758.19 ns
    Std Dev: 696.56 ns
    Min: 81277.14 ns
    Max: 86176.82 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 133.46s
  Total lookups: 2000000
  End-to-end throughput: 14985.79 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7492.91 lookups/sec
    Latency per lookup:
      Mean: 133459.56 ns
      Std Dev: 3494.68 ns
      Min: 122429.46 ns
      Max: 143905.89 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 8800.69 lookups/sec
    Latency per lookup:
      Mean: 113627.40 ns
      Std Dev: 2949.89 ns
      Min: 104662.49 ns
      Max: 121749.05 ns
  Overall Latency Statistics:
    Mean: 123543.48 ns
    Std Dev: 10430.05 ns
    Min: 104662.49 ns
    Max: 143905.89 ns
Run 3/3
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 82.66s
  Total lookups: 2000000
  End-to-end throughput: 24196.56 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 12099.63 lookups/sec
    Latency per lookup:
      Mean: 82647.16 ns
      Std Dev: 682.74 ns
      Min: 80710.36 ns
      Max: 84994.21 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 12098.31 lookups/sec
    Latency per lookup:
      Mean: 82656.15 ns
      Std Dev: 674.25 ns
      Min: 80743.51 ns
      Max: 84748.07 ns
  Overall Latency Statistics:
    Mean: 82651.65 ns
    Std Dev: 678.52 ns
    Min: 80710.36 ns
    Max: 84994.21 ns
Running multithreaded benchmark with 2 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 2
  End-to-end time: 127.70s
  Total lookups: 2000000
  End-to-end throughput: 15661.46 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 7830.74 lookups/sec
    Latency per lookup:
      Mean: 127701.79 ns
      Std Dev: 3040.08 ns
      Min: 117753.79 ns
      Max: 138199.23 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 7976.84 lookups/sec
    Latency per lookup:
      Mean: 125362.99 ns
      Std Dev: 3010.70 ns
      Min: 115771.04 ns
      Max: 135412.78 ns
  Overall Latency Statistics:
    Mean: 126532.39 ns
    Std Dev: 3243.56 ns
    Min: 115771.04 ns
    Max: 138199.23 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 895 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 494583583 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 23484843320 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 6000000 }, shards: [Shard { sum: AtomicF64 { inner: 4712606598000803840 }, count: AtomicU64 { inner: 6000000 }, buckets: [AtomicU64 { inner: 2060072 }, AtomicU64 { inner: 2530266 }, AtomicU64 { inner: 1027748 }, AtomicU64 { inner: 306521 }, AtomicU64 { inner: 64855 }, AtomicU64 { inner: 9565 }, AtomicU64 { inner: 921 }, AtomicU64 { inner: 52 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 2001 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 729443943 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 47267855080 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 01:55:02 PM UTC 2025
