Benchmark started at Wed Mar 26 02:57:07 PM UTC 2025
Running benchmark with direct I/O: off, threads: 8...
    Finished `release` profile [optimized] target(s) in 0.17s
     Running `target/release/index_benchmark run --num-lookups 1000000 --num-runs 3 --batch-size 1000 --window-size 200 --num-threads 8 --header-file data/bench-header-1TB-100k.dat --uniform-file data/bench-uniform-1TB-100k.dat`
Running multithreaded benchmark with 8 threads
Run 1/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 85.75s
  Total lookups: 8000000
  End-to-end throughput: 93295.28 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11713.96 lookups/sec
    Latency per lookup:
      Mean: 85368.25 ns
      Std Dev: 1199.76 ns
      Min: 82114.62 ns
      Max: 89395.95 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11685.56 lookups/sec
    Latency per lookup:
      Mean: 85575.72 ns
      Std Dev: 1213.86 ns
      Min: 80946.99 ns
      Max: 89128.12 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11707.37 lookups/sec
    Latency per lookup:
      Mean: 85416.30 ns
      Std Dev: 1121.67 ns
      Min: 82354.38 ns
      Max: 88608.54 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11661.95 lookups/sec
    Latency per lookup:
      Mean: 85748.95 ns
      Std Dev: 1279.26 ns
      Min: 78323.35 ns
      Max: 88993.71 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 11715.39 lookups/sec
    Latency per lookup:
      Mean: 85357.84 ns
      Std Dev: 1215.40 ns
      Min: 81518.08 ns
      Max: 88462.62 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 11689.81 lookups/sec
    Latency per lookup:
      Mean: 85544.56 ns
      Std Dev: 1281.02 ns
      Min: 80834.82 ns
      Max: 88785.74 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 11701.72 lookups/sec
    Latency per lookup:
      Mean: 85457.53 ns
      Std Dev: 1206.21 ns
      Min: 82441.94 ns
      Max: 88441.57 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 11690.65 lookups/sec
    Latency per lookup:
      Mean: 85538.43 ns
      Std Dev: 1241.93 ns
      Min: 82121.02 ns
      Max: 88913.80 ns
  Overall Latency Statistics:
    Mean: 85500.95 ns
    Std Dev: 1226.81 ns
    Min: 78323.35 ns
    Max: 89395.95 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 117.45s
  Total lookups: 8000000
  End-to-end throughput: 68115.67 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 8533.65 lookups/sec
    Latency per lookup:
      Mean: 117183.14 ns
      Std Dev: 2725.10 ns
      Min: 106517.33 ns
      Max: 126101.77 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 8563.01 lookups/sec
    Latency per lookup:
      Mean: 116781.33 ns
      Std Dev: 2464.15 ns
      Min: 109566.63 ns
      Max: 124082.88 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 8541.93 lookups/sec
    Latency per lookup:
      Mean: 117069.62 ns
      Std Dev: 2588.12 ns
      Min: 108133.81 ns
      Max: 124780.74 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 8514.49 lookups/sec
    Latency per lookup:
      Mean: 117446.84 ns
      Std Dev: 2782.79 ns
      Min: 103102.37 ns
      Max: 126267.03 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 8562.18 lookups/sec
    Latency per lookup:
      Mean: 116792.71 ns
      Std Dev: 2554.28 ns
      Min: 108314.99 ns
      Max: 124275.24 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 8523.56 lookups/sec
    Latency per lookup:
      Mean: 117321.87 ns
      Std Dev: 2683.83 ns
      Min: 104583.32 ns
      Max: 125292.91 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 8544.62 lookups/sec
    Latency per lookup:
      Mean: 117032.65 ns
      Std Dev: 2645.72 ns
      Min: 108946.87 ns
      Max: 124434.22 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 8521.34 lookups/sec
    Latency per lookup:
      Mean: 117352.48 ns
      Std Dev: 2784.71 ns
      Min: 104793.13 ns
      Max: 126376.31 ns
  Overall Latency Statistics:
    Mean: 117122.58 ns
    Std Dev: 2665.98 ns
    Min: 103102.37 ns
    Max: 126376.31 ns
Run 2/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 87.02s
  Total lookups: 8000000
  End-to-end throughput: 91935.16 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11534.15 lookups/sec
    Latency per lookup:
      Mean: 86699.07 ns
      Std Dev: 910.20 ns
      Min: 82981.78 ns
      Max: 89202.34 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11509.53 lookups/sec
    Latency per lookup:
      Mean: 86884.53 ns
      Std Dev: 978.47 ns
      Min: 80423.82 ns
      Max: 89476.44 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11595.22 lookups/sec
    Latency per lookup:
      Mean: 86242.41 ns
      Std Dev: 805.00 ns
      Min: 83503.85 ns
      Max: 88809.15 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11534.70 lookups/sec
    Latency per lookup:
      Mean: 86694.90 ns
      Std Dev: 843.53 ns
      Min: 83716.14 ns
      Max: 90650.92 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 11581.53 lookups/sec
    Latency per lookup:
      Mean: 86344.34 ns
      Std Dev: 817.57 ns
      Min: 83808.26 ns
      Max: 89086.83 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 11491.93 lookups/sec
    Latency per lookup:
      Mean: 87017.60 ns
      Std Dev: 1013.41 ns
      Min: 80250.20 ns
      Max: 89782.58 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 11554.84 lookups/sec
    Latency per lookup:
      Mean: 86543.80 ns
      Std Dev: 803.01 ns
      Min: 83678.36 ns
      Max: 89735.99 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 11537.84 lookups/sec
    Latency per lookup:
      Mean: 86671.33 ns
      Std Dev: 789.64 ns
      Min: 83999.78 ns
      Max: 88962.05 ns
  Overall Latency Statistics:
    Mean: 86637.25 ns
    Std Dev: 906.49 ns
    Min: 80250.20 ns
    Max: 90650.92 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 116.50s
  Total lookups: 8000000
  End-to-end throughput: 68672.10 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 8584.03 lookups/sec
    Latency per lookup:
      Mean: 116495.43 ns
      Std Dev: 2330.47 ns
      Min: 103775.58 ns
      Max: 122800.91 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 8593.13 lookups/sec
    Latency per lookup:
      Mean: 116372.01 ns
      Std Dev: 2261.49 ns
      Min: 104075.89 ns
      Max: 124498.09 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 8590.41 lookups/sec
    Latency per lookup:
      Mean: 116408.86 ns
      Std Dev: 2138.46 ns
      Min: 108984.75 ns
      Max: 123266.94 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 8656.63 lookups/sec
    Latency per lookup:
      Mean: 115518.34 ns
      Std Dev: 2173.37 ns
      Min: 108393.42 ns
      Max: 122447.75 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 8605.66 lookups/sec
    Latency per lookup:
      Mean: 116202.59 ns
      Std Dev: 2289.24 ns
      Min: 106244.60 ns
      Max: 123885.94 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 8656.50 lookups/sec
    Latency per lookup:
      Mean: 115520.10 ns
      Std Dev: 2154.00 ns
      Min: 109553.85 ns
      Max: 122761.05 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 8611.88 lookups/sec
    Latency per lookup:
      Mean: 116118.60 ns
      Std Dev: 2209.76 ns
      Min: 107947.04 ns
      Max: 123290.20 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 8605.21 lookups/sec
    Latency per lookup:
      Mean: 116208.64 ns
      Std Dev: 2105.87 ns
      Min: 107932.32 ns
      Max: 123523.80 ns
  Overall Latency Statistics:
    Mean: 116105.57 ns
    Std Dev: 2237.82 ns
    Min: 103775.58 ns
    Max: 124498.09 ns
Run 3/3
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
HeaderLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 86.87s
  Total lookups: 8000000
  End-to-end throughput: 92086.52 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 11571.34 lookups/sec
    Latency per lookup:
      Mean: 86420.44 ns
      Std Dev: 869.32 ns
      Min: 83776.35 ns
      Max: 89514.84 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 11536.32 lookups/sec
    Latency per lookup:
      Mean: 86682.74 ns
      Std Dev: 783.86 ns
      Min: 84249.54 ns
      Max: 89400.49 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 11513.74 lookups/sec
    Latency per lookup:
      Mean: 86852.78 ns
      Std Dev: 1040.34 ns
      Min: 81709.18 ns
      Max: 91742.30 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 11523.12 lookups/sec
    Latency per lookup:
      Mean: 86782.07 ns
      Std Dev: 918.48 ns
      Min: 83841.97 ns
      Max: 90075.99 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 11515.55 lookups/sec
    Latency per lookup:
      Mean: 86839.12 ns
      Std Dev: 874.70 ns
      Min: 82836.10 ns
      Max: 90393.65 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 11510.85 lookups/sec
    Latency per lookup:
      Mean: 86874.56 ns
      Std Dev: 906.30 ns
      Min: 82987.12 ns
      Max: 89702.16 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 11561.21 lookups/sec
    Latency per lookup:
      Mean: 86496.10 ns
      Std Dev: 952.12 ns
      Min: 83752.95 ns
      Max: 89516.92 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 11520.27 lookups/sec
    Latency per lookup:
      Mean: 86803.51 ns
      Std Dev: 1091.32 ns
      Min: 83808.50 ns
      Max: 96766.70 ns
  Overall Latency Statistics:
    Mean: 86718.92 ns
    Std Dev: 947.88 ns
    Min: 81709.18 ns
    Max: 96766.70 ns
Running multithreaded benchmark with 8 threads, 1000000 lookups per thread in batches of 1000
UniformLookupIndex Multithreaded Results:
  Threads: 8
  End-to-end time: 116.53s
  Total lookups: 8000000
  End-to-end throughput: 68650.95 lookups/sec
  Thread 0 Results:
    Lookups: 1000000
    Throughput: 8615.15 lookups/sec
    Latency per lookup:
      Mean: 116074.59 ns
      Std Dev: 2235.30 ns
      Min: 107801.71 ns
      Max: 123345.58 ns
  Thread 1 Results:
    Lookups: 1000000
    Throughput: 8598.09 lookups/sec
    Latency per lookup:
      Mean: 116304.97 ns
      Std Dev: 2270.37 ns
      Min: 106197.73 ns
      Max: 123608.43 ns
  Thread 2 Results:
    Lookups: 1000000
    Throughput: 8581.39 lookups/sec
    Latency per lookup:
      Mean: 116531.29 ns
      Std Dev: 2505.65 ns
      Min: 101581.09 ns
      Max: 127371.97 ns
  Thread 3 Results:
    Lookups: 1000000
    Throughput: 8625.40 lookups/sec
    Latency per lookup:
      Mean: 115936.59 ns
      Std Dev: 2118.47 ns
      Min: 109255.37 ns
      Max: 122666.43 ns
  Thread 4 Results:
    Lookups: 1000000
    Throughput: 8627.55 lookups/sec
    Latency per lookup:
      Mean: 115907.69 ns
      Std Dev: 2114.07 ns
      Min: 109651.71 ns
      Max: 123774.02 ns
  Thread 5 Results:
    Lookups: 1000000
    Throughput: 8608.11 lookups/sec
    Latency per lookup:
      Mean: 116169.49 ns
      Std Dev: 2267.99 ns
      Min: 108547.00 ns
      Max: 122995.14 ns
  Thread 6 Results:
    Lookups: 1000000
    Throughput: 8628.57 lookups/sec
    Latency per lookup:
      Mean: 115894.10 ns
      Std Dev: 2142.23 ns
      Min: 109392.45 ns
      Max: 123715.62 ns
  Thread 7 Results:
    Lookups: 1000000
    Throughput: 8603.90 lookups/sec
    Latency per lookup:
      Mean: 116226.32 ns
      Std Dev: 2248.48 ns
      Min: 105473.63 ns
      Max: 124515.40 ns
  Overall Latency Statistics:
    Mean: 116130.63 ns
    Std Dev: 2250.65 ns
    Min: 101581.09 ns
    Max: 127371.97 ns
HeaderLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 3771 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 2034135407 }, val_type: Counter, label_pairs: [] } }
HeaderLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 93943942880 }, val_type: Counter, label_pairs: [] } }
Histogram: Histogram { core: HistogramCore { desc: Desc { fq_name: "lookup_iterations", help: "lookup_iterations", const_label_pairs: [], variable_labels: [], id: 2280981954329258229, dim_hash: 2280981954329258229 }, label_pairs: [], collect_lock: Mutex { data: (), poisoned: false, .. }, shard_and_count: ShardAndCount { inner: 24000000 }, shards: [Shard { sum: AtomicF64 { inner: 4719884142790049792 }, count: AtomicU64 { inner: 24000000 }, buckets: [AtomicU64 { inner: 14315241 }, AtomicU64 { inner: 8995649 }, AtomicU64 { inner: 676116 }, AtomicU64 { inner: 12947 }, AtomicU64 { inner: 47 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }, Shard { sum: AtomicF64 { inner: 0 }, count: AtomicU64 { inner: 0 }, buckets: [AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }, AtomicU64 { inner: 0 }] }], upper_bounds: [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0] } }
UniformLookupIndex: scan mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_scan_mcs", help: "lookup_scan_mcs", const_label_pairs: [], variable_labels: [], id: 914794617080129952, dim_hash: 914794617080129952 }, val: AtomicU64 { inner: 12332 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io mcs GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_mcs", help: "lookup_io_mcs", const_label_pairs: [], variable_labels: [], id: 1936770213637198483, dim_hash: 1936770213637198483 }, val: AtomicU64 { inner: 2751422791 }, val_type: Counter, label_pairs: [] } }
UniformLookupIndex: io bytes GenericCounter { v: Value { desc: Desc { fq_name: "lookup_io_bytes", help: "lookup_io_bytes", const_label_pairs: [], variable_labels: [], id: 16528068844073587369, dim_hash: 16528068844073587369 }, val: AtomicU64 { inner: 274998992600 }, val_type: Counter, label_pairs: [] } }
Benchmark completed at Wed Mar 26 03:07:17 PM UTC 2025
